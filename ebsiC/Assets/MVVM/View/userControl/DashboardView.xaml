<UserControl x:Class="ebsiC.Assets.MVVM.View.userControl.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:local="clr-namespace:ebsiC.Assets.MVVM.View.userControl">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid>
            <ItemsControl ItemsSource="{Binding Cards}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <UniformGrid Columns="{Binding ColumnCount}"
                                     IsItemsHost="True"
                                     Margin="0 15"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemContainerStyle>
                    <Style TargetType="ContentPresenter">
                        <Setter Property="VerticalAlignment" Value="Top"/>
                        <!-- 🔥 Aligns cards to top -->
                    </Style>
                </ItemsControl.ItemContainerStyle>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <local:DashboardCard Width="300" Height="200"
                                             Margin="10"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </Grid>
        <materialDesign:Card materialDesign:ElevationAssist.Elevation="Dp24"
                             Grid.Row="1"
                             Margin="53 0 53 20"
                             Padding="0 50 5 50"
                             Background="White">
            <materialDesign:Card.Effect>
                <DropShadowEffect Color="Black" 
                                  BlurRadius="25" 
                                  ShadowDepth="10" 
                                  Opacity="0.5"/>
            </materialDesign:Card.Effect>
            <Border>
                <Border.Effect>
                    <DropShadowEffect Color="Black" BlurRadius="25" ShadowDepth="10" Opacity="0.5"/>
                </Border.Effect>
                <DataGrid CanUserAddRows="False"
                          SelectionMode="Extended"
                          SelectionUnit="Cell"
                          ItemsSource="{Binding DataGridItems}"
                          IsReadOnly="True"
                          Foreground="black"
                          Background="#e2e2e5"
                          materialDesign:DataGridAssist.CornerRadius="10">
                    <DataGrid.ColumnHeaderStyle>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="Foreground" Value="Black"/>
                            <Setter Property="Background" Value="#90a8b5"/>
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="DataGridColumnHeader">
                                        <Border Background="#90a8b5"
                                                CornerRadius="10 10 0 0">
                                            <ContentPresenter HorizontalAlignment="Center"
                                                              VerticalAlignment="center"/>
                                        </Border>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </DataGrid.ColumnHeaderStyle>
                </DataGrid>
            </Border>
        </materialDesign:Card>
    </Grid>
</UserControl>
